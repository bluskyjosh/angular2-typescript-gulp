<div class="row">
    <h2>Normative Items</h2>
    <div class="col-sm-8 col-sm-offset-4">
        <div class="col-sm-4 no-padding-left">
            <input id="txtNormativeItemSearch" class="form-control" placeholder="Search" />
        </div>
        <div class="col-sm-8 no-padding-right">
            <div class="btn-group pull-right">
                <button class="btn btn-default" (click)="openCategories">Manage Categories</button>
                <button class="btn btn-default" (click)="openImporter">Import</button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-4">
        <data-table #batchGrid id="batchGrid"
                    [items]="batches"
                    [itemCount]="batchCount"
                    class="no-pagination-limit no-header-controls fixed-headers"
                    (reload)="reloadBatches($event)"
                    (rowClick)="selectedBatchChanged($event)"


                    [limit]="10"
                    [sortBy]="'created_at'"
                    [sortAsc]="true"


                    [selectOnRowClick]="true"
                    [multiSelect]="false"
                    [indexColumn]="false"
                    [substituteRows]="true"
                    [translations]="translations"
        >
            <data-table-column>
                <ng-template #dataTableHeader let-item="item">
                    View Items
                </ng-template>
                <ng-template #dataTableCell let-item="item">
                    <div class="text-center">
                        <i class="fa fa-arrow-circle-o-right fa-lg" title="View Batch Items"></i>
                    </div>
                </ng-template>
            </data-table-column>

            <data-table-column
                [property]="'name'"
                [header]="'Name'"
                [sortable]="true"
                [resizable]="false">
            </data-table-column>

            <data-table-column
                    [property]="'created_at'"
                    [header]="'Create Date'"
                    [sortable]="true"
                    [resizable]="false">
            </data-table-column>

            <data-table-column>
                <ng-template #dataTableHeader let-item="item">
                    Active?
                </ng-template>

                <ng-template #dataTableCell let-item="item">
                    <div class="text-center">
                        <input type="checkbox" aria-label="" [checked]="item.active" (change)="activeBatchChanged(item)" />
                    </div>
                </ng-template>

            </data-table-column>

            <data-table-column
                    [header]="Delete"
                    [sortable]="false"
                    [width]="50"
                    [resizable]="false">
                <ng-template #dataTableHeader let-item="item">
                    <i class="btn btn-default fa fa-plus-square fa-lg" (click)="addItem($event)" title="Add Normative Item Batch"></i>
                </ng-template>
                <ng-template #dataTableCell let-item="item" >
                    <i class="btn fa fa-trash fa-lg pull-right"
                       (click)="deleteItem(item.id,$event)" title="Delete Normative Item Batch"></i>
                </ng-template>

            </data-table-column>
        </data-table>
    </div>

    <div class="col-sm-8">
        <data-table #normativeItemGrid id="normativeItemGrid"
                    [items]="normativeItems"
                    [itemCount]="normativeItemCount"
                    (reload)="reloadNormativeItems($event)"

                    class="no-header-controls fixed-headers"
                    [limit]="10"
                    [sortBy]="'created_at'"
                    [sortAsc]="true"

                    [indexColumn]="false"
                    [substituteRows]="true"
                    [translations]="translations"
        >
            <data-table-column
                    [header]="Edit"
                    [sortable]="false"
                    [width]="50"
                    [resizable]="false">
                <ng-template #dataTableHeader let-item="item">
                    View/ Edit
                </ng-template>
                <ng-template #dataTableCell let-item="item">
                    <div class="text-center">
                        <i class="btn fa fa-pencil-square-o fa-lg" (click)="editItem(item.id,$event)" title="Edit Normative Item"></i>
                    </div>
                </ng-template>
            </data-table-column>

            <data-table-column
                    [property]="'name'"
                    [header]="'Name'"
                    [sortable]="true"
                    [resizable]="false">
            </data-table-column>

            <data-table-column
                    [property]="'value'"
                    [header]="'Value'"
                    [sortable]="true"
                    [resizable]="false">
            </data-table-column>

            <data-table-column
                    [property]="'description'"
                    [header]="'Description'"
                    [sortable]="true"
                    [resizable]="false">
            </data-table-column>

            <data-table-column
                    [property]="'category_id'"
                    [header]="'Category'"
                    [sortable]="true"
                    [resizable]="false">
            </data-table-column>

            <data-table-column
                    [header]="Delete"
                    [sortable]="false"
                    [width]="50"
                    [resizable]="false">
                <ng-template #dataTableHeader let-item="item">
                    <i class="btn btn-default fa fa-plus-square fa-lg" (click)="addItem($event)" title="Add Normative Item"></i>
                </ng-template>
                <ng-template #dataTableCell let-item="item" >
                    <i class="btn fa fa-trash fa-lg pull-right"
                       (click)="deleteItem(item.id,$event)" title="Delete Normative Item"></i>
                </ng-template>

            </data-table-column>
        </data-table>
    </div>
</div>